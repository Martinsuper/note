# 终端代理

> 如何实现 linux 终端代理访问国外网络，由于要装 docker，但是国内的网络的安装 docker 速度很慢，总是失败，这里尝试使用 ss 和 polipo 实现代理，可以终端下通过代理安装软件

## 安装 pip

```bash
sudo apt-get install python3-pip
```

## 安装 shadowsockets

> 由于 shadowsockets2.0 版本的不支持 aes-256-gcm 协议，这里安装 shadowsockets2.0 版本

```bash
pip install git+https://github.com/shadowsocks/shadowsocks.git@master

```

配置 ss
`vim /etc/shadowsocks.json`

```bash
{
    "server":"c18s2.jamjams.net",
    "server_port":22773,
    "local_address": "127.0.0.1",
    "local_port":1080,
    "password":"YeL4tPE6wQ",
    "timeout":300,
    "method":"aes-256-gcm"
}

```

启动 ss
`sslocal -c /etc/shadowsocks.json -d start`
如果报错

```bash
sudo .local/bin/sslocal -c /etc/shadowsocks.json -d start
sudo .local/bin/sslocal -c /etc/shadowsocks.json -d stop

```

安装 polipo

```bash
sudo apt-get install polipo

sudo service polipo stop
sudo service polipo start
```

在 `/etc/polipo/config` 添加如下

```bash
logSyslog = true
logFile = /var/log/polipo/polipo.log

proxyAddress = "0.0.0.0"

socksParentProxy = "127.0.0.1:1080"
socksProxyType = socks5
proxyPort = 8123

chunkHighMark = 50331648
objectHighMark = 16384

serverMaxSlots = 64
serverSlots = 16
serverSlots1 = 32

```

设置环境变量

```bash
export http_proxy=http://localhost:8123 # 当前终端使用代理
export https_proxy=$http_proxy
unset http_proxy # 当前终端取消代理
unset https_proxy # 当前终端取消代理
```
